<template>
  <div class="relative">
    <button @click="toggleDropdown" class=" py-2 px-4 rounded flex flex-col justify-center items-center">
      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
        <path fill-rule="evenodd" clip-rule="evenodd" d="M12 22.75C6.07 22.75 1.25 17.93 1.25 12C1.25 6.07 6.07 1.25 12 1.25C17.93 1.25 22.75 6.07 22.75 12C22.75 17.93 17.93 22.75 12 22.75ZM12 2.75C11.2244 2.75 10.4707 2.84599 9.75024 3.02672C9.74753 3.09835 9.7343 3.1701 9.70999 3.24C9.30317 4.46264 8.98438 5.71196 8.75362 6.97653C10.9104 6.73765 13.0917 6.73781 15.2472 6.977C15.0164 5.70939 14.6973 4.45657 14.2899 3.23006C14.2676 3.16309 14.2553 3.09494 14.2522 3.02733C13.531 2.84621 12.7765 2.75 12 2.75ZM15.4835 8.51721C13.173 8.22801 10.8276 8.22758 8.51706 8.5159C8.22784 10.8261 8.22764 13.1711 8.51644 15.4828C10.8269 15.772 13.1723 15.7725 15.4828 15.4841C15.7721 13.174 15.7723 10.829 15.4835 8.51721ZM6.98122 8.75115C6.74298 10.9082 6.74292 13.09 6.98101 15.247C5.71466 15.0162 4.46373 14.6972 3.24 14.29C3.1701 14.2657 3.09836 14.2525 3.02673 14.2498C2.84599 13.5293 2.75 12.7757 2.75 12C2.75 11.2234 2.84623 10.4688 3.0274 9.74751C3.09452 9.74416 3.16256 9.73191 3.23003 9.70999C4.45703 9.30171 5.71139 8.9821 6.98122 8.75115ZM7.19581 7.19146C6.00197 7.38897 4.81954 7.66073 3.65725 8.00675C4.54358 6.1627 6.02371 4.65573 7.84812 3.73537C7.89078 3.74391 7.93484 3.7489 7.97999 3.75C7.64868 4.88108 7.38729 6.03087 7.19581 7.19146ZM17.0245 8.754C18.289 8.98473 19.5381 9.30339 20.76 9.70999C20.8311 9.73662 20.9021 9.74748 20.9731 9.74959C21.1539 10.4702 21.25 11.2241 21.25 12C21.25 12.7758 21.154 13.5297 20.9732 14.2502C20.9049 14.2538 20.8366 14.2669 20.77 14.29C19.5439 14.698 18.2905 15.0175 17.0217 15.2484C17.2617 13.0927 17.2626 10.9111 17.0245 8.754ZM20.3442 8.00972C19.1836 7.66324 18.0025 7.39103 16.8096 7.1931C16.6127 6.00076 16.3417 4.81978 15.9966 3.65885C17.8933 4.57141 19.433 6.11226 20.3442 8.00972ZM7.97999 20.25C7.64866 19.1188 7.38725 17.9689 7.19577 16.8083C6.03384 16.6165 4.88298 16.354 3.75 16.02C3.74888 16.0647 3.74377 16.1086 3.73499 16.1511C4.62879 17.9233 6.07606 19.3707 7.84812 20.2646C7.89078 20.2561 7.93484 20.2511 7.97999 20.25ZM12 17.2C10.9142 17.2 9.82995 17.141 8.75251 17.0223C8.98335 18.2901 9.30251 19.5432 9.70999 20.77C9.73316 20.8366 9.74626 20.9049 9.74979 20.9732C10.4704 21.154 11.2242 21.25 12 21.25C12.7751 21.25 13.5282 21.1542 14.2481 20.9737C14.251 20.9025 14.2646 20.8306 14.2899 20.7601C14.6968 19.5371 15.0157 18.2874 15.2465 17.0224C14.169 17.141 13.0852 17.2 12 17.2ZM15.9867 20.3459C16.334 19.1844 16.6069 18.0023 16.8053 16.8084C17.969 16.6166 19.1225 16.3541 20.26 16.02C20.261 16.0601 20.265 16.0993 20.2719 16.1375C19.3511 17.9707 17.8386 19.4576 15.9867 20.3459Z" fill="#1A1A18"></path>
      </svg>
      <span class="mr-1">Russian</span>
    </button>
    <ul v-show="isDropdownOpen" @click="closeDropdown" class="absolute text-gray-700 pt-1">
      <li><a class="rounded-t bg-gray-200 hover:bg-gray-400 py-2 px-4 block whitespace-no-wrap" href="#">Russian</a></li>
      <li><a class="bg-gray-200 hover:bg-gray-400 py-2 px-4 block whitespace-no-wrap" href="#">Uzbek</a></li>
      <li><a class="rounded-b bg-gray-200 hover:bg-gray-400 py-2 px-4 block whitespace-no-wrap" href="#">English</a></li>
    </ul>
  </div>
</template>

<script>
export default {
  data() {
    return {
      isDropdownOpen: false,
    };
  },
  methods: {
    toggleDropdown() {
      this.isDropdownOpen = !this.isDropdownOpen;
    },
    closeDropdown() {
      this.isDropdownOpen = false;
    },
    closeDropdownOutside(event) {
      if (!this.$el.contains(event.target)) {
        this.isDropdownOpen = false;
      }
    },
  },
  mounted() {
    document.addEventListener('click', this.closeDropdownOutside);
  },
  beforeUnmount() {
    document.removeEventListener('click', this.closeDropdownOutside);
  },
};
</script>
